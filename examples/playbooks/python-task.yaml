# Python Task Playbook
# Example Playbook for Python development tasks

name: Python Task Playbook

metadata:
  description: Standard workflow for Python task implementation
  author: NecroCode
  version: 1.0

steps:
  - name: Install dependencies
    command: pip install -r requirements.txt
    timeout_seconds: 300
    retry_count: 2
    fail_fast: true

  - name: Run Black formatter check
    command: black --check .
    condition: format_check_enabled == true
    timeout_seconds: 120
    retry_count: 0
    fail_fast: false

  - name: Run Flake8 linter
    command: flake8 .
    condition: lint_enabled == true
    timeout_seconds: 180
    retry_count: 0
    fail_fast: false

  - name: Run MyPy type checker
    command: mypy .
    condition: type_check_enabled == true
    timeout_seconds: 240
    retry_count: 0
    fail_fast: false

  - name: Run pytest
    command: pytest -v
    condition: test_enabled == true
    timeout_seconds: 600
    retry_count: 0
    fail_fast: true

  - name: Run pytest with coverage
    command: pytest --cov=. --cov-report=html
    condition: coverage_enabled == true
    timeout_seconds: 900
    retry_count: 0
    fail_fast: false

  - name: Build package
    command: python -m build
    condition: build_enabled == true
    timeout_seconds: 180
    retry_count: 1
    fail_fast: true
